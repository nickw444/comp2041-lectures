<html>
<!doctype html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>Intro to the Browser & the DOM</title>

  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="css/theme/canva.css">

  <!-- Theme used for syntax highlighting of code -->
  <link rel="stylesheet" href="lib/css/zenburn.css">

  <link rel="stylesheet" href="lib/fontawesome/css/all.min.css">

  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
  </script>
</head>
<body>
<div class="reveal">
  <div class="slides">
    <section data-background="linear-gradient(90deg,#00c4cc,#7d2ae8)" data-background-size="cover">
      <div class="has-dark-background">
        <img class="plain" width="100" style="background: none;"
             src="images/canva-logo.png"/>
        <h2>Intro to the Browser & the DOM</h2>
        <p style="font-size: 0.6em">Nick Whyte | <i class="fab fa-github"></i> @nickw444 | <i
            class="fab fa-twitter"></i> @nickw444</p>
      </div>
    </section>
    <section>
      <section>
        <h2>About Me</h2>
        <ul>
          <li>Frontend Engineer / Technical Lead @ Canva</li>
          <li>Graduated UNSW in 2016 (Computer Science)</li>
          <li>COMP2041 student in 2014</li>
          <li>COMP2041 tutor in 2015</li>
        </ul>
        <aside class="notes" data-markdown>
          <textarea data-template>
            I think it's worthwhile giving some context about why I'm here today giving this lecture;

            - I'm actually a UNSW graduate who took COMP2041 in 2014 and tutored it in 2015.
            - The course seems to have changed a lot since then and
            - I am really liking the direction it's taking.
            - After graduating UNSW I applied to Canva for a Frontend Engineering role.
            - Canva is a web-based graphic design tool,
            - so you could imagine there is a lot of frontend work to be done
          </textarea>
        </aside>
      </section>
      <section>
      <!--<section data-background-iframe="blobs/Collaborate%20%26%20Create%20Amazing%20Graphic%20Design%20for%20Free.html">-->
        <aside class="notes" data-markdown>
          <textarea data-template>
            To give you some context of the sort of frontend work we do, here's something I've been working on over the last few months with my team.

            We have undertaken a large project to re-build our login and signup landing pages and have incorporated a GPU accelerated WebGL animation to give it a "memorable" look and feel.
          </textarea>
        </aside>
      </section>
    </section>
    <section>
      <section>
        <h2>5 minute HTML Refresher</h2>
        <aside class="notes" data-markdown>
          <textarea data-template>
            I know you've done a fair bit of this in previous week lectures, but so it's fresh for today i'll just quickly run over the basics of HTML
          </textarea>
        </aside>
      </section>
      <section>
        <h3>Simple HTML5 Document</h3>
        <pre><code class="html" data-trim>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Title Goes Here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  Hello World
&lt;/body&gt;
&lt;/html&gt;
					</code></pre>
        <aside class="notes" data-markdown>
          <textarea data-template>
            Here is a minimal HTML5 document. It specifies a head, a body, and has the content 'Hello World'. Nice and simple!
          </textarea>
        </aside>
      </section>
      <section>
        <h3>Adding CSS</h3>
        <div>Inline Styles</div>
        <pre><code class="html" data-trim>
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Title Goes Here&lt;/title&gt;
  &lt;style&gt;
  /* your CSS here */
  &lt;/style&gt;
&lt;/head&gt;
					</code></pre>
        <div>CSS File</div>
        <pre><code class="html" data-trim>
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Title Goes Here&lt;/title&gt;
  &lt;link rel=&quot;stylesheet&quot; href=&quot;src/index.css&quot;&gt;
&lt;/head&gt;
					</code></pre>
        <aside class="notes" data-markdown>
          <textarea data-template>
            If we want to add some CSS to our document, we can either specify it inline or reference an external CSS file.

            The latter is preferred since it keeps our HTML file concise and relevant.
          </textarea>
        </aside>
      </section>
      <section>
        <h3>Adding Scripts</h3>
        Inline Scripts
        <pre><code class="html" data-trim>
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Title Goes Here&lt;/title&gt;
  &lt;script&gt;
  /* your code here */
  &lt;/script&gt;
&lt;/head&gt;
					</code></pre>
        Script Files
        <pre><code class="html" data-trim>
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Title Goes Here&lt;/title&gt;
  &lt;script src=&quot;src/index.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
					</code></pre>
        <aside class="notes" data-markdown>
          <textarea data-template>
            Similar to CSS, we can do the same with Javascript that we wish to include on our page.

            Simple whack a script tag in there and you can type away within it inside the HTML document,

            Or, you can reference an external script to load and execute.

            These two examples here are the most common you'll use, but there are other script options like async and defer that can alter the loading and execution behavior of the script.
          </textarea>
        </aside>
      </section>
      <section>
        <h3>Basic HTML Elements</h3>
        <ul>
          <li><code>div</code>: A container element that can contain zero or more child elements. A block level element.
          </li>
          <li><code>p</code>: A paragraph element</li>
          <li><code>span</code>: generic inline container for phrasing content. Similar to div, except span is an inline
            element
          </li>
          <li><code>h1</code>, <code>h2</code>, <code>h3</code>, <code>h4</code>, <code>h5</code>, <code>h6</code>: A
            heading element
          </li>
          <li>...and many more!</li>
        </ul>
        <aside class="notes" data-markdown>
          <textarea data-template>
            Here's some basic HTML elements you might encounter along the way.

            - A `div` is a container element that can contain zero or more child elements. It is a block level element, meaning that if you have two adjacent divs in code, their content will be on separate lines.
            - A `p` is a paragraph element.
            - A span is similar to a div, except it is an inline element, so that adjacent spans will display on the same line. Spans are useful to changing style attributes of particular excerpts to text.
            - h1, h2 and so on are heading elements

            These are just a subset of element, there are many many more that I suggest you familiarize yourself with as it really helps you create semantic documents that are easy to follow.
          </textarea>
        </aside>
        <!--https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/HTML_basics -->
      </section>
      <section>
        <h3>Let's start building our app!</h3>
        <aside class="notes" data-markdown>
          <textarea data-template>
            So now with all that under our belt, I am going to introduce you to the app we will be building today alongside this presentation.

            I have prepared a HTML document with some CSS to accompany it and make it look reasonable. However, side note - I am not a designer.
          </textarea>
        </aside>
      </section>
    </section>
    <section>
      <section>
        <div style="float:right;">
          <img class="plain" src="images/devtools.png">
        </div>
        <h2>Devtools</h2>
        (Google Chrome)
        <aside class="notes" data-markdown>
          <textarea data-template>
            Before we jump further through the stopwatch app we'll be building, lets chat about some of the tools available to you to assist your development.

            I'll be specifically speaking about the tools available in Chrome, however the tools in other evergreen browsers are very similar.

            Hopefully we won't have any bugs and need to use any of these today, but If we do I guess that's a bonus.
          </textarea>
        </aside>
      </section>
      <section>
        <h3>Elements Panel</h3>
        <img src="images/devtools-elements.png">
      </section>
      <section>
        <h3>Console</h3>
        <img src="images/devtools-console.png">
      </section>
      <section>
        <h3>Network Inspector</h3>
        <img src="images/devtools-network.png">
      </section>
      <section>
        <h3>Sources Panel</h3>
        <img src="images/devtools-sources.png">
      </section>
    </section>
    <section>
      <section>
        <div style="font-size: 2em; margin-bottom: 0.5em">
          <i class="fab fa-chrome"></i>&nbsp;
          <i class="fab fa-firefox"></i>&nbsp;
          <i class="fab fa-safari"></i>&nbsp;
          <i class="fab fa-opera"></i>&nbsp;
          <i class="fab fa-internet-explorer"></i>
        </div>
        <h2>Programming For the Browser</h2>
      </section>
      <section data-markdown>
        <textarea data-template>
          ### What is the DOM
          - An API for HTML (or XML) documents.
          - Represents the page so that Javascript can change the structure, style and content of it.
          - The DOM represents the document as nodes and objects in a tree.

          ![](images/dom-structure.gif)
        </textarea>
        <!--https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction -->
      </section>
      <section data-markdown>
        <textarea data-template>
          ### `document.?`
          - document represents the web page loaded in the window and serves as an entrypoint into the
          DOM tree.

          - `document.head`: Returns the `&lt;head&gt;` element of the current document.
          - `document.body`: Returns the `&lt;body&gt;` element of the current document.
        </textarea>
      </section>
      <section data-markdown>
        <textarea data-template>
          ### Query the DOM

          ```html
          &lt;button id=&quot;my-button&quot;&gt;Hello&lt;/button&gt;
          ```

          ##### Using `getElementById`
          ```js
          const button = document.getElementById('my-button')
          ```

          ##### Using `querySelector`:

          ```js
          const button = document.querySelector('#my-button')
          ```
          Both of these find the element inside the DOM tree with `id="my-button"` and returns it.
        </textarea>
      </section>
      <section data-markdown>
        <textarea data-template>
          ### `window.?`

          - similar to `document`, represents the window containing the DOM document
          - The `Window` interface is home to a variety of functions, namespaces, objects, and constructors

        </textarea>
        <!--https://developer.mozilla.org/en-US/docs/Web/API/Window-->
      </section>
      <section>
        <h3><code>window.alert</code></h3>
        <pre><code class="js" data-trim>
window.alert('Hello World!')
					</code></pre>
        <button onClick="window.alert('Hello World!')">Run Code</button>
      </section>
      <section>
        <h3><code>window.location</code></h3>
        <pre><code class="js" data-trim id="windowLocationDemo"></code></pre>
        <script>
          document.getElementById('windowLocationDemo').innerHTML = JSON.stringify(window.location, null, 2);
        </script>
      </section>
      <section>
        <h3><code>console.log()</code></h3>
        <pre><code class="js" data-trim>
console.log('Hello World!')
					</code></pre>
        <button onClick="console.log('Hello World!')">Run Code</button>
        <div style="font-size: 0.5em; margin-top: 2em; opacity: 0.7;">
          n.b. You'll need to open your console to see the output of this demo!
        </div>
      </section>
      <section>
        <h3><code>console.?</code></h3>
        <p>The console can do a lot more than just plain old strings:</p>
        <pre><code class="js" data-trim>
          console.clear()
          console.log()
          console.error()
          console.warn()
          console.table()
          console.group()
					</code></pre>
      </section>
      <section>
        <h3>Console introspection</h3>
        <p>You can also log JS objects to the console and introspect them:</p>
        <img src="images/devtools-console-introspection.png">
      </section>
      <section>
        <h3>With this knowledge, lets add some JS to our HTML</h3>
        <aside class="notes" data-markdown>
          <textarea data-template>
            - Add javascript file (index.js). Make it have a window.alert() on load.
            - Query the DOM to find the elements we care about
          </textarea>
        </aside>
      </section>
    </section>
    <section>
      <section><h2>Events & interations</h2></section>
      <section>
        <h3><code>onClick</code> event (html)</h3>
        <pre><code class="html" data-trim>
          &lt;button onClick=&quot;window.alert('Hello COMP2041!')&quot;&gt;
            Say Hello
          &lt;/button&gt;
					</code></pre>
        <button onClick="window.alert('Hello COMP2041!')">Say Hello</button>
      </section>
      <section>
        <h3>Binding an event</h3>
        <div style="margin: 1em 0;">
          <code style="font-size: 0.7em"><i>target</i>.addEventListener(<i>type</i>, <i>listener</i>[, options]);</code>
        </div>
        <ul>
          <li><code>type</code>: <code>'click'</code>, <code>'focus'</code>, <code>'blur'</code>, <code>'keydown'</code>,
            etc
          </li>
          <li><code>listener</code>: The function to execute when the event occurs.</li>
        </ul>
        <!--https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener-->
      </section>
      <section>
        <h3><code>onClick</code> event (html/js)</h3>
        <pre><code class="html" data-trim>
          &lt;button id=&quot;hello-button&quot;&gt;Say Hello&lt;/button&gt;
					</code></pre>
        <pre><code class="js" data-trim>
          const helloButton = document.getElementById('hello-button');
          helloButton.addEventListener('click', () => {
            window.alert('Hello COMP2041 from JS!');
          });
					</code></pre>
        <button id="hello-button">Say Hello</button>
        <script>
          const helloButton = document.getElementById('hello-button');
          helloButton.addEventListener('click', () => {
            window.alert('Hello COMP2041 from JS!');
          });
        </script>
      </section>
      <section>
        <h3><code>mouseMove</code> event</h3>
        <pre><code class="js" data-trim>
          window.addEventListener('mousemove', ({x, y}) => {
            console.log({x, y});
          });
        </code></pre>
        <pre id="mouseMoveDemoConsole"></pre>
        <script>
          (function () {
            const consoleEl = document.getElementById('mouseMoveDemoConsole');

            function logToConsole(msg) {
              consoleEl.innerHTML = msg;
            }

            window.addEventListener('mousemove', ({x, y}) => {
              logToConsole(JSON.stringify({x, y}, null, 2));
            });
          })();
        </script>
      </section>
      <section>
        <h3>Let's make our app interactive</h3>
        <aside class="notes" data-markdown>
          <textarea data-template>
            - Bind an event on the start button
          </textarea>
        </aside>
      </section>
    </section>
    <section>
      <section>
        <h2>Timers&nbsp;<i class="fas fa-stopwatch"></i></h2>
      </section>
      <section>
        <h3><code>setTimeout</code> / <code>clearTimeout</code></h3>
        <pre><code class="js" data-trim>
          document.setTimeout(() => {
            window.alert('Done!')
          }, 1000);
        </code></pre>
        <button id="setTimeoutRunCode">Run Code</button>
        <script>
          console.log('meme');
          document.getElementById('setTimeoutRunCode').addEventListener('click', () => {
            window.setTimeout(() => {
              window.alert('Done!')
            }, 1000);
          })
        </script>
      </section>
      <section>
        <h3><code>setInterval</code> / <code>clearInterval</code></h3>
        <pre><code class="js" data-trim>
          let timer = undefined;
          let counter = document.getElementById('counter');

          function tick() {
            counter.innerText = parseInt(counter.innerText) + 1;
          }

          function onStartClick() {
            timer = window.setInterval(tick, 1000);
          }
          function onStopClick() {
            window.clearInterval(timer);
          }
        </code></pre>
        <div>Counter: <span id="setIntervalCounter">0</span></div>
        <button id="setIntervalStart">Start</button>&nbsp;<button id="setIntervalStop">Stop</button>
        <script>
          let timer = undefined;
          let startButton = document.getElementById('setIntervalStart');
          let stopButton = document.getElementById('setIntervalStop');
          let counter = document.getElementById('setIntervalCounter');

          function tick() {
            counter.innerText = parseInt(counter.innerText) + 1;
          }

          startButton.addEventListener('click', () => {
            timer = window.setInterval(tick, 1000);
          });
          stopButton.addEventListener('click', () => {
            window.clearInterval(timer);
          });
        </script>
      </section>
      <section>
        <h3>Time to make our stopwatch tick!</h3>
        <aside class="notes" data-markdown>
          <textarea data-template>
            - Tick the timer every second, and update the UI
          </textarea>
        </aside>
      </section>
      <section data-markdown>
        <textarea data-template>
          ### Accuracy of Timers
          - Timers in JS are not accurate and can become skewed.
          - If we made a timer with just setTimeout/setInterval we would find the timer would drift if there was other computational work to perform.
          - Browsers will typically pause timers when you switch tabs to conserve resources ðŸ˜Ž
        </textarea>
      </section>
      <section>
        <h3>Clock Drift Demo</h3>
        <div>
          <div>
            <h4>Actual Time</h4>
            <div id="clockDriftDemo__actualTime">0.000</div>
          </div>
          <div>
            <h4>Interval Time</h4>
            <div id="clockDriftDemo__intervalTime">0.000</div>
          </div>
        </div>
        <button id="clockDriftDemo__startButton">Start</button>
        <button id="clockDriftDemo__longTaskButton">Run Long / Blocking Task</button>
        <!--
        https://johnresig.com/blog/how-javascript-timers-work/
        https://www.sitepoint.com/creating-accurate-timers-in-javascript/
        https://www.reddit.com/r/learnjavascript/comments/3aqtzf/issue_with_setinterval_function_losing_accuracy/
        -->
        <script>
          (function () {
            const startButton = document.getElementById('clockDriftDemo__startButton');
            const longTaskButton = document.getElementById('clockDriftDemo__longTaskButton');
            const actualTimeEl = document.getElementById('clockDriftDemo__actualTime');
            const intervalTimeEl = document.getElementById('clockDriftDemo__intervalTime');

            let startTime = undefined;
            let elapsedTime = 0;
            let timer = undefined;

            function tick() {
              elapsedTime += 5;
              render();
            }

            function formatTime(msSinceStart) {
              const secondsElapsed = msSinceStart / 1000;
              const seconds = Math.floor(secondsElapsed);
              const millis = Math.floor((secondsElapsed % 1) * 1000).toString();
              return `${seconds}.${millis.padStart(3, '0')}`;
            }

            function render() {
              intervalTimeEl.innerText = formatTime(elapsedTime);
            }

            function renderFrame() {
              if (!timer) {
                return;
              }

              requestAnimationFrame(() => {
                actualTimeEl.innerText = formatTime(Date.now() - startTime);
                renderFrame();
              })
            }

            startButton.addEventListener('click', () => {
              if (timer) {
                clearInterval(timer);
                timer = undefined;
              }
              elapsedTime = 0;
              startTime = Date.now();
              timer = setInterval(tick, 5);
              renderFrame();
            });

            longTaskButton.addEventListener('click', () => {
              const s = new Date().getSeconds();
              while (true) {
                if (new Date().getSeconds() - s >= 2) {
                  break;
                }
              }
            })
          })();
        </script>
      </section>
      <section data-markdown>
        <textarea data-template>
          ### Solution To Clock Drift
          - Store the start time and calculate the time elapsed on each render cycle
          - Use setInterval/setTimeout to invoke a render cycle (or better yet; use `requestAnimationFrame` for easy 60FPS updates)
        </textarea>
      </section>
      <section>
        <h3>Lets fix the clock drift in our application</h3>
        <aside class="notes" data-markdown>
          <textarea data-template>
            - Remove clock drift by keeping track of start time
          </textarea>
        </aside>
      </section>
    </section>
    <section>
      <section>
        <img class="plain" src="images/v8-logo.png" style="background: none; width: 4em; margin-top: -1em;">
        <h2>Behind the Scenes</h2>
        <div>(How JS gets executed in your browser)</div>
        <!--
        https://medium.com/reloading/javascript-start-up-performance-69200f43b201
        https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/javascript-startup-optimization/
        -->
      </section>
      <section data-markdown>
        <textarea data-template>
          ### Scope

          - When your browser encounters a script tag it (downloads and) executes it, placing all global variables onto `window`.
          - This can pollute the global scope and cause conflicts.
          - We can solve this with an IIFE:

          ```js
          (function() {
            let foo = 'whatever'
            // More code here
          })();
          // foo is unreachable here
          ```
        </textarea>
      </section>
      <section data-markdown>
        <textarea data-template>
          ### IIFE's

          - Immediately-invoked function expression
          - Produces a lexical scope using JavaScript's function scoping
          - Stops global `window` pollution, since all variables sit within the function scope.

          ```js
          (function() {
            let foo = 'whatever'
            // More code here
          })();
          // foo is unreachable here
          ```
        </textarea>
        <!--https://en.wikipedia.org/wiki/Immediately-invoked_function_expression-->
      </section>
      <section data-markdown>
        <textarea data-template>
          ### Execution Order
          - A `&lt;script&gt;` tag is parsed & executed as it is encountered when the DOM is parsed.
          - This means it may execute too soon, before all HTML elements are even available.
        </textarea>
        <!--https://eager.io/blog/everything-I-know-about-the-script-tag/-->
      </section>
      <section data-markdown>
        <textarea data-template>
          ### Execution Order
          This is an easy problem to solve in a few different ways;

          - Move the script below the HTML elements it targets (or to the bottom of the source)
          - Use an event listener in JS to listen when the document is ready (`DOMContentLoaded`):

          ```js
          function init() {
            console.log('Document loaded!');
          }
          document.addEventListener('DOMContentLoaded', init);
          ```
        </textarea>
        <!--https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded-->
      </section>
      <section data-markdown>
        <textarea data-template>
          ### Run to Completion

          - Each message is processed completely before any other message is processed.
          - Your functions cannot be pre-empted by another
          - Your function will run entirely before any other code runs
        </textarea>
        <!--https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop#Run-to-completion-->
      </section>
      <section>
        <h4>Example</h4>
        <pre><code class="js" data-trim style="font-size:0.8em; line-height:1em">
          const s = new Date().getSeconds();

          setTimeout(function () {
            // prints out "2", meaning that the callback is not called immediately after 500 milliseconds.
            console.log("Ran after " + (new Date().getSeconds() - s) + " seconds");
          }, 500);

          while (true) {
            if (new Date().getSeconds() - s >= 2) {
              console.log("Good, looped for 2 seconds");
              break;
            }
          }
        </code></pre>
        <button id="runToCompletionRunCode">Run Code</button>
        <pre id="runToCompletionConsole"></pre>
        <script>
          function runToCompletionDemo() {
            const s = new Date().getSeconds();

            setTimeout(function () {
              // prints out "2", meaning that the callback is not called immediately after 500 milliseconds.
              runToCompletionDemoLog("Ran after " + (new Date().getSeconds() - s) + " seconds");
            }, 500);

            while (true) {
              if (new Date().getSeconds() - s >= 2) {
                runToCompletionDemoLog("Good, looped for 2 seconds");
                break;
              }
            }
          }

          function runToCompletionDemoLog(msg) {
            document.getElementById('runToCompletionConsole').innerText += msg + '\n';
          }

          document.getElementById('runToCompletionRunCode').addEventListener('click', runToCompletionDemo);
        </script>
      </section>
    </section>
    <section>
      <section>
        <h2>Querying the DOM</h2>
      </section>
      <section data-markdown>
        <textarea data-template>
          ### Finding Elements

          <ul style="font-size: 0.7em; margin-bottom: 1em;">
            <li>`getElementById`: Finds an element by it's `id` attribute. Returns an `Element` object.</li>
            <li>`getElementByClassName`: Finds elements with a matching `class` attribute. Returns an array-like object.</li>
            <li>`getElementsByTagName`: Finds elements with a matching tag name.</li>
            <li>`querySelector`: Magical jQuery-like DOM query method. Returns the first element matching the CSS selector given.</li>
          </ul>

          ##### Using `querySelector`

          ```js
          const button = document.querySelector('#my-button')
          const button = document.querySelector('.my-button')
          const button = document.querySelector('body > .my-button')
          ```
        </textarea>
      </section>
      <section>
        <h3>Querying Element Content</h3>
        <p>Sometimes you may want to read the content of an element</p>
        <div style="border: 1px solid #ccc;">
          <p id="queryElementContent__text">Hello World!</p>
        </div>
        <pre><code data-trim class="html">
          &lt;p id=&quot;text&quot;&gt;Hello World!&lt;/p&gt;
        </code></pre>
        <pre><code data-trim class="js">
          const text = document.getElementById('text');
          console.log(text.innerText);
        </code></pre>
        <button id="queryElementContent__runCode">Run Code</button>
        <pre id="queryElementContent__console"></pre>
        <script>
          (function () {
            const text = document.getElementById('queryElementContent__text');
            const consoleEl = document.getElementById('queryElementContent__console');
            document.getElementById('queryElementContent__runCode').addEventListener('click', () => {
              consoleEl.innerText += text.innerText + '\n';
            });
          })();
        </script>
      </section>
      <section>
        <h3>Querying Element Bounds</h3>
        <div style="border: 1px solid #ccc;">
          <p id="queryElementBounds__text">Hello World!</p>
        </div>
        <pre><code data-trim class="html">
          &lt;p id=&quot;text&quot;&gt;Hello World!&lt;/p&gt;
        </code></pre>
        <pre><code data-trim class="js">
          const text = document.getElementById('text');
          console.log(text.getBoundingClientRect());
        </code></pre>
        <button id="queryElementBounds__runCode">Run Code</button>
        <pre id="queryElementBounds__console"></pre>
        <script>
          (function () {
            const text = document.getElementById('queryElementBounds__text');
            const consoleEl = document.getElementById('queryElementBounds__console');
            document.getElementById('queryElementBounds__runCode').addEventListener('click', () => {
              consoleEl.innerText = JSON.stringify(text.getBoundingClientRect(), null, 2)
            });
          })();
        </script>
      </section>
    </section>
    <section>
      <section>
        <h2>Manipulating the DOM</h2>
      </section>
      <section>
        <h3>Adding a CSS class</h3>
        <p>Once we have reference to a DOM node, we can manipulate it. This demo adds a class to a <code>span</code>
          node.</p>
        <div style="border: 1px solid #ccc;">
          <p>Hello <span id="addingCssClassDemo__span">World!</span></p>
        </div>
        <pre><code data-trim class="css">
          .red { color: red; }
        </code></pre>
        <pre><code data-trim class="html">
          &lt;p&gt;Hello &lt;span id=&quot;worldSpan&quot;&gt;World!&lt;/span&gt;&lt;/p&gt;
        </code></pre>
        <pre><code data-trim class="js">
          const worldSpan = document.getElementById('worldSpan');
          span.classList.add('red');
        </code></pre>
        <button id="addingCssClassDemo__runCode">Run Code</button>
        <style>
          .red {
            color: red;
          }
        </style>
        <script>
          (function () {
            const runButton = document.getElementById('addingCssClassDemo__runCode');
            const span = document.getElementById('addingCssClassDemo__span');
            runButton.addEventListener('click', () => {
              span.classList.add('red');
            });
          })()
        </script>
      </section>
      <section>
        <h3>Modifying Inline Styles</h3>
        <div style="border: 1px solid #ccc;">
          <p>Hello <span id="modifyingInlineStylesDemo__span">World!</span></p>
        </div>
        <pre><code data-trim class="html">
          &lt;p&gt;Hello &lt;span id=&quot;worldSpan&quot;&gt;World!&lt;/span&gt;&lt;/p&gt;
        </code></pre>
        <pre><code data-trim class="js">
          const worldSpan = document.getElementById('worldSpan');
          span.style.fontSize = '2em';
        </code></pre>
        <button id="modifyingInlineStylesDemo__runCode">Run Code</button>
        <script>
          (function () {
            const runButton = document.getElementById('modifyingInlineStylesDemo__runCode');
            const span = document.getElementById('modifyingInlineStylesDemo__span');
            runButton.addEventListener('click', () => {
              span.style.fontSize = '2em';
            });
          })()
        </script>
      </section>
      <section>
        <h3>Modifying innertext</h3>
        <p>It's also easy to update the content of a HTML Element</p>
        <div style="border: 1px solid #ccc;">
          <p id="modifyingInnerTextDemo__text">Hello World!</p>
        </div>
        <pre><code data-trim class="html">
          &lt;p id=&quot;text&quot;&gt;Hello World!&lt;/p&gt;
        </code></pre>
        <pre><code data-trim class="js">
          const text = document.getElementById('text');
          text.innerText = 'Goodbye World!';
        </code></pre>
        <button id="modifyingInnerTextDemo__runCode">Run Code</button>
        <script>
          (function () {
            const text = document.getElementById('modifyingInnerTextDemo__text');
            document.getElementById('modifyingInnerTextDemo__runCode').addEventListener('click', () => {
              text.innerText = 'Goodbye World!';
            });
          })();
        </script>
      </section>
      <section>
        <h3>Now that we know how to manipulate the DOM, lets render the stopwatch on the page.</h3>
        <aside class="notes" data-markdown>
          <textarea data-template>
            - Render the time elapsed on the page
          </textarea>
        </aside>
      </section>
    </section>
    <section>
      <section><h2>60FPS</h2></section>
      <section data-markdown>
        <textarea data-template>
        `window.requestAnimationFrame()`
         - Tells the browser that you wish to perform an animation and to call the given function before the next repaint.
         - Call this method whenever you're ready to update your animation onscreen.
         - The number of callbacks is usually 60 times per second, but should match the display refresh rate.
        </textarea>
        <!--https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame-->
      </section>
      <section>
        <h3>Using <code>requestAnimationFrame</code> lets improve our solution for 60fps</h3>
        <aside class="notes" data-markdown>
          <textarea data-template>
            - Use `requestAnimationFrame` to get 60FPS timer update
          </textarea>
        </aside>
      </section>
    </section>
    <section>
      <section><h2>Web Frameworks</h2></section>
      <section><h3>jQuery</h3></section>
      <section><h3>Backbone</h3></section>
      <section><h3>Angular.js</h3></section>
      <section><h3>React</h3></section>
      <section><h3>Vue</h3></section>
      <section><h3>Angular</h3></section>
    </section>
    <section>
      <h2>References</h2>
      <ul>
        <li></li>
      </ul>
    </section>
    <section data-background="linear-gradient(90deg,#00c4cc,#7d2ae8)" data-background-size="cover">
      <div class="has-dark-background">
        <img class="plain" width="100" style="background: none; "
             src="images/canva-logo.png"/>
        <h2>Thanks</h2>
        <div style="font-size:0.4em;">
          <p>Nick Whyte | <i class="fab fa-github"></i> @nickw444 | <i class="fab fa-twitter"></i> @nickw444</p>
          <p style="opacity: 0.8">p.s. we are looking for summer interns and 2019 graduates! <br/>Please email
            nick@canva.com
            if you are interested</p>
        </div>
      </div>
    </section>
  </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
  // More info about config & dependencies:
  // - https://github.com/hakimel/reveal.js#configuration
  // - https://github.com/hakimel/reveal.js#dependencies
  Reveal.initialize({
    history: true,
    center: true,

    dependencies: [
      {src: 'plugin/markdown/marked.js'},
      {src: 'plugin/external/external.js'},
      {src: 'plugin/markdown/markdown.js'},
      {src: 'plugin/notes/notes.js', async: true},
      {src: 'plugin/sampler/sampler.js'},
      {
        src: 'plugin/highlight/highlight.js', async: true, callback: function () {
          hljs.initHighlightingOnLoad();
        }
      }
    ]
  });
</script>
</body>
</html>
